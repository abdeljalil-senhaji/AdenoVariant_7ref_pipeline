rule samtools_index:
    input:
        bam = "{prefix}/{sample}/{ref_id}/{sample}_GroupReads_dedup_reads.bam"
    output:
        temp("{prefix}/{sample}/{ref_id}/{sample}_GroupReads_dedup_reads.bam.bai")
    log:
        "{prefix}/{sample}/logs/{sample}_samtools_index.log"
    params:
        samtools_index_options = config["samtools_index"]["OPTIONS"]
    shell:
        'docker_wrapper -c \"samtools index {params.samtools_index_options} {input.bam} {output} \" 2>&1 | tee -a {log}'

